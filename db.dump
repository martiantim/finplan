-- MySQL dump 10.13  Distrib 5.5.34, for debian-linux-gnu (x86_64)
--
-- Host: localhost    Database: finplan_development
-- ------------------------------------------------------
-- Server version	5.5.34-0ubuntu0.13.10.1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `accounts`
--

DROP TABLE IF EXISTS `accounts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `accounts` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `plan_id` int(11) NOT NULL,
  `balance` int(11) DEFAULT NULL,
  `investment_type` varchar(255) DEFAULT NULL,
  `interest_rate` decimal(10,0) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `accounts`
--

LOCK TABLES `accounts` WRITE;
/*!40000 ALTER TABLE `accounts` DISABLE KEYS */;
INSERT INTO `accounts` VALUES (1,'Checking',1,5000,NULL,NULL),(3,'Emergency',1,20000,NULL,NULL),(7,'401K',1,40000,'Target Retirement',NULL),(18,'Traditional IRA',1,5000,'Stock',NULL),(19,'Roth IRA',1,75000,'Target Retirement',NULL),(20,'Savings',1,200000,'Money Market',NULL);
/*!40000 ALTER TABLE `accounts` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `manipulator_templates`
--

DROP TABLE IF EXISTS `manipulator_templates`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `manipulator_templates` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `user_id` int(11) NOT NULL,
  `formula` varchar(4096) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `javascript` mediumtext,
  `kind` varchar(255) NOT NULL DEFAULT 'factor',
  `image_url` varchar(255) DEFAULT NULL,
  `can_formula` varchar(4096) DEFAULT NULL,
  `can_javascript` varchar(40960) DEFAULT NULL,
  `per_person` tinyint(1) DEFAULT '0',
  `do_formula` varchar(4096) DEFAULT NULL,
  `do_javascript` text,
  `priority` int(11) NOT NULL DEFAULT '5',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `manipulator_templates`
--

LOCK TABLES `manipulator_templates` WRITE;
/*!40000 ALTER TABLE `manipulator_templates` DISABLE KEYS */;
INSERT INTO `manipulator_templates` VALUES (1,'Salary',1,'if !this.tempParams[\'current_salary\']\r\n  this.tempParams[\'current_salary\'] = this.params[\'salary\']\r\n\r\nsalary = this.tempParams[\'current_salary\']\r\nif this.params[\'401k\'] > 0\r\n  context.balances.addRetirement(salary * this.params[\'401k\']/100.0, \'401k\', \'401K deduction\')\r\n  salary -= salary * this.params[\'401k\']/100.0\r\n  \r\ncontext.balances.addCash(salary, @user, \'Income\', this.user.name + \' Salary\')\r\n\r\nif this.params[\'annual_raise\']\r\n  this.tempParams[\'current_salary\'] *= 1.0 + (this.params[\'annual_raise\']/100)','2013-06-30 23:18:48','2013-11-30 03:16:45','var salary;\n\nif (!this.tempParams[\'current_salary\']) {\n  this.tempParams[\'current_salary\'] = this.params[\'salary\'];\n}\n\nsalary = this.tempParams[\'current_salary\'];\n\nif (this.params[\'401k\'] > 0) {\n  context.balances.addRetirement(salary * this.params[\'401k\'] / 100.0, \'401k\', \'401K deduction\');\n  salary -= salary * this.params[\'401k\'] / 100.0;\n}\n\ncontext.balances.addCash(salary, this.user, \'Income\', this.user.name + \' Salary\');\n\nif (this.params[\'annual_raise\']) {\n  this.tempParams[\'current_salary\'] *= 1.0 + (this.params[\'annual_raise\'] / 100);\n}\n','income','','','\n',0,'',NULL,1),(4,'FICA Taxes',1,'agi = context.balances.getCurrentYearPersonIncome(@user)\r\n\r\n#Medicare 1.45%\r\ncontext.balances.spendCash(0.0145*agi, \'Taxes\', \"Medicare\")\r\n\r\n#SS\r\nssagi = agi\r\nssagi = 113700 if ssagi > 113700\r\ncontext.balances.spendCash(0.062*ssagi, \'Taxes\', \"Social Security\")\r\n\r\n','2013-07-07 05:19:47','2013-12-02 08:45:46','var agi, ssagi;\n\nagi = context.balances.getCurrentYearPersonIncome(this.user);\n\ncontext.balances.spendCash(0.0145 * agi, \'Taxes\', \"Medicare\");\n\nssagi = agi;\n\nif (ssagi > 113700) {\n  ssagi = 113700;\n}\n\ncontext.balances.spendCash(0.062 * ssagi, \'Taxes\', \"Social Security\");\n','hidden','','',NULL,1,'',NULL,2),(5,'Utilities',1,'@cpiAdjustedParams[\'electric\'] ||= this.params[\'electric\']\r\n@cpiAdjustedParams[\'cable\'] ||= this.params[\'cable\']\r\n@cpiAdjustedParams[\'phone\'] ||= this.params[\'phone\']\r\n@cpiAdjustedParams[\'internet\'] ||= this.params[\'internet\']\r\n\r\ncontext.balances.spendCash(@cpiAdjustedParams[\'electric\']*12, \'Living\', \'Utilities\') if this.params[\'electric\']\r\ncontext.balances.spendCash(@cpiAdjustedParams[\'cable\']*12, \'Living\', \'Utilities\') if this.params[\'cable\']\r\ncontext.balances.spendCash(@cpiAdjustedParams[\'phone\']*12, \'Living\', \'Utilities\') if this.params[\'phone\']\r\ncontext.balances.spendCash(@cpiAdjustedParams[\'internet\']*12, \'Living\', \'Utilities\') if this.params[\'internet\']\r\n','2013-07-07 05:36:17','2013-12-01 08:48:12','var _base, _base1, _base2, _base3;\n\n(_base = this.cpiAdjustedParams)[\'electric\'] || (_base[\'electric\'] = this.params[\'electric\']);\n\n(_base1 = this.cpiAdjustedParams)[\'cable\'] || (_base1[\'cable\'] = this.params[\'cable\']);\n\n(_base2 = this.cpiAdjustedParams)[\'phone\'] || (_base2[\'phone\'] = this.params[\'phone\']);\n\n(_base3 = this.cpiAdjustedParams)[\'internet\'] || (_base3[\'internet\'] = this.params[\'internet\']);\n\nif (this.params[\'electric\']) {\n  context.balances.spendCash(this.cpiAdjustedParams[\'electric\'] * 12, \'Living\', \'Utilities\');\n}\n\nif (this.params[\'cable\']) {\n  context.balances.spendCash(this.cpiAdjustedParams[\'cable\'] * 12, \'Living\', \'Utilities\');\n}\n\nif (this.params[\'phone\']) {\n  context.balances.spendCash(this.cpiAdjustedParams[\'phone\'] * 12, \'Living\', \'Utilities\');\n}\n\nif (this.params[\'internet\']) {\n  context.balances.spendCash(this.cpiAdjustedParams[\'internet\'] * 12, \'Living\', \'Utilities\');\n}\n','factor','','',NULL,0,'',NULL,6),(6,'Food',1,'context.balances.spendCash(this.params[\'groceries\']*12, \'Living\', \'Food\')\r\ncontext.balances.spendCash(this.params[\'restaurants\']*12, \'Living\', \'Food\')\r\n','2013-07-07 05:36:32','2013-11-24 20:34:44','context.balances.spendCash(this.params[\'groceries\'] * 12, \'Living\', \'Food\');\n\ncontext.balances.spendCash(this.params[\'restaurants\'] * 12, \'Living\', \'Food\');\n','factor','','',NULL,0,'',NULL,6),(7,'House',1,'tax = @cpiAdjustedParams[\'price\']*this.params[\'property_tax_rate\']/100.0\r\ncontext.balances.spendCash(tax, \'Taxes\', \'Property Tax\', {deductable: true})\r\ncontext.balances.spendCash(@cpiAdjustedParams[\'price\']*(this.params[\'maintenance\']/100), \'Living\', \'House Maintenance\')\r\ncontext.balances.spendCash(this.params[\'home_insurance\']*12, \'Living\', \'Home Insurance\')\r\n#TODO: PMI','2013-07-07 05:48:48','2013-12-01 08:18:17','var tax;\n\ntax = this.cpiAdjustedParams[\'price\'] * this.params[\'property_tax_rate\'] / 100.0;\n\ncontext.balances.spendCash(tax, \'Taxes\', \'Property Tax\', {\n  deductable: true\n});\n\ncontext.balances.spendCash(this.cpiAdjustedParams[\'price\'] * (this.params[\'maintenance\'] / 100), \'Living\', \'House Maintenance\');\n\ncontext.balances.spendCash(this.params[\'home_insurance\'] * 12, \'Living\', \'Home Insurance\');\n','goal','http://www.thenotsoblog.com/wp-content/uploads/2013/01/house1.gif','@cpiAdjustedParams[\'price\'] ||= this.params[\'price\']\r\n\r\nthis.tempParams.downpayment = @cpiAdjustedParams[\'price\'] * (this.params[\'percent_down\']/100)\r\nthis.tempParams.fees = @cpiAdjustedParams[\'price\']*0.03\r\nthis.tempParams.cushion = @cpiAdjustedParams[\'price\']*0.03 #TODO\r\nthis.tempParams.savingsNeeded = this.tempParams.downpayment + this.tempParams.fees + this.tempParams.cushion\r\n\r\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), this.tempParams.savingsNeeded)\r\n\r\nreturn context.balances.hasSavings(this.tempParams.savingsNeeded)  \r\n','var _base;\n\n(_base = this.cpiAdjustedParams)[\'price\'] || (_base[\'price\'] = this.params[\'price\']);\n\nthis.tempParams.downpayment = this.cpiAdjustedParams[\'price\'] * (this.params[\'percent_down\'] / 100);\n\nthis.tempParams.fees = this.cpiAdjustedParams[\'price\'] * 0.03;\n\nthis.tempParams.cushion = this.cpiAdjustedParams[\'price\'] * 0.03;\n\nthis.tempParams.savingsNeeded = this.tempParams.downpayment + this.tempParams.fees + this.tempParams.cushion;\n\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), this.tempParams.savingsNeeded);\n\nreturn context.balances.hasSavings(this.tempParams.savingsNeeded);\n',0,'mortgage = @cpiAdjustedParams[\'price\']* ((100 - this.params[\'percent_down\'])/100)\r\ncontext.balances.spendCash(this.tempParams.downpayment, \'Capital\', \'House Down Payment\')\r\ncontext.balances.spendCash(this.tempParams.fees, \'Capital\', \'House Closing Costs\')\r\ncontext.balances.takeOutLoan(mortgage, \'House Mortgage\', 30)\r\nthis.disable(\'Rent\')','var mortgage;\n\nmortgage = this.cpiAdjustedParams[\'price\'] * ((100 - this.params[\'percent_down\']) / 100);\n\ncontext.balances.spendCash(this.tempParams.downpayment, \'Capital\', \'House Down Payment\');\n\ncontext.balances.spendCash(this.tempParams.fees, \'Capital\', \'House Closing Costs\');\n\ncontext.balances.takeOutLoan(mortgage, \'House Mortgage\', 30);\n\nthis.disable(\'Rent\');\n',3),(8,'State Tax',1,'agi = context.balances.getCurrentYearIncome()\r\n\r\n#CA State Income\r\nif context.family.numAdults() == 2	\r\n	console.log(\"State Income Tax - #{context.stateLivingIn} - Married\")\r\n	taxSchedule = TaxRateSchedule.findByName(\"State Income Tax - #{context.stateLivingIn} - Married\")\r\nelse\r\n	taxSchedule = TaxRateSchedule.findByName(\"State Income Tax - #{context.stateLivingIn} - Single\")\r\nitax = 0\r\nlastHigh = 0\r\nfor line in taxSchedule.brackets\r\n	if agi > lastHigh\r\n    	amount = Math.min(agi, line[0]) - lastHigh\r\n    	itax += line[1]/100.0*amount  \r\n	lastHigh = line[0]\r\n    \r\ncontext.balances.spendCash(itax, \'Taxes\', \"#{context.stateLivingIn} Income Tax\")','2013-07-07 06:34:53','2013-12-02 08:44:22','var agi, amount, itax, lastHigh, line, taxSchedule, _i, _len, _ref;\n\nagi = context.balances.getCurrentYearIncome();\n\nif (context.family.numAdults() === 2) {\n  console.log(\"State Income Tax - \" + context.stateLivingIn + \" - Married\");\n  taxSchedule = TaxRateSchedule.findByName(\"State Income Tax - \" + context.stateLivingIn + \" - Married\");\n} else {\n  taxSchedule = TaxRateSchedule.findByName(\"State Income Tax - \" + context.stateLivingIn + \" - Single\");\n}\n\nitax = 0;\n\nlastHigh = 0;\n\n_ref = taxSchedule.brackets;\nfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\n  line = _ref[_i];\n  if (agi > lastHigh) {\n    amount = Math.min(agi, line[0]) - lastHigh;\n    itax += line[1] / 100.0 * amount;\n  }\n  lastHigh = line[0];\n}\n\ncontext.balances.spendCash(itax, \'Taxes\', \"\" + context.stateLivingIn + \" Income Tax\");\n','hidden','','',NULL,0,'',NULL,4),(9,'Social Security Income',1,'@cpiAdjustedParams[\'bend_low\'] ||= 791\r\n@cpiAdjustedParams[\'bend_high\'] ||= 4768\r\n\r\nif context.oldestAdultAge() >= 67\r\n	#TODO: need enough credits\r\n\r\n	#Second, earnings for the highest 35 years are averaged and divided by 12 to arrive at Average Indexed Monthly Earnings (AIME).\r\n	incomes = context.balances.getAllIncomes()\r\n	incomes.sort (a,b) ->\r\n		return b-a	\r\n	topIncomes = incomes.slice(0,34)\r\n	if topIncomes.length < 35\r\n		for i in [0...(35 - topIncomes.length)]\r\n			topIncomes.push 0\r\n        \r\n	#TODO: remove ones over max contribution\r\n	sum = 0;\r\n	for inc in topIncomes\r\n		sum += inc  \r\n	avgYearEarnings = sum / topIncomes.length\r\n	aime = avgYearEarnings/12\r\n\r\n	bendPointLow = @cpiAdjustedParams[\'bend_low\']\r\n	bendPointHigh = @cpiAdjustedParams[\'bend_high\']\r\n\r\n	pia = 0\r\n	#90 percent of the first $791 of his/her average indexed monthly earnings\r\n	pia += (Math.min(bendPointLow, aime) * 0.90)\r\n	#32 percent of his/her average indexed monthly earnings over $791 and through $4,768\r\n	if aime > bendPointLow\r\n		pia += (Math.min(bendPointHigh, aime) - 791) * 0.32  \r\n	#15 percent of his/her average indexed monthly earnings over $4,768.\r\n	if aime > bendPointHigh\r\n		pia += (aime - bendPointHigh) * 0.15\r\n        \r\n	if @cpiAdjustedParams[\'pia\']\r\n		pia = @cpiAdjustedParams[\'pia\']\r\n	else\r\n		@cpiAdjustedParams[\'pia\'] = pia    \r\n        	\r\n	context.balances.addCash(pia*12, null, \'Income\', \'Social Security\')','2013-07-07 19:12:22','2013-12-01 08:29:11','var aime, avgYearEarnings, bendPointHigh, bendPointLow, i, inc, incomes, pia, sum, topIncomes, _base, _base1, _i, _j, _len, _ref;\n\n(_base = this.cpiAdjustedParams)[\'bend_low\'] || (_base[\'bend_low\'] = 791);\n\n(_base1 = this.cpiAdjustedParams)[\'bend_high\'] || (_base1[\'bend_high\'] = 4768);\n\nif (context.oldestAdultAge() >= 67) {\n  incomes = context.balances.getAllIncomes();\n  incomes.sort(function(a, b) {\n    return b - a;\n  });\n  topIncomes = incomes.slice(0, 34);\n  if (topIncomes.length < 35) {\n    for (i = _i = 0, _ref = 35 - topIncomes.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\n      topIncomes.push(0);\n    }\n  }\n  sum = 0;\n  for (_j = 0, _len = topIncomes.length; _j < _len; _j++) {\n    inc = topIncomes[_j];\n    sum += inc;\n  }\n  avgYearEarnings = sum / topIncomes.length;\n  aime = avgYearEarnings / 12;\n  bendPointLow = this.cpiAdjustedParams[\'bend_low\'];\n  bendPointHigh = this.cpiAdjustedParams[\'bend_high\'];\n  pia = 0;\n  pia += Math.min(bendPointLow, aime) * 0.90;\n  if (aime > bendPointLow) {\n    pia += (Math.min(bendPointHigh, aime) - 791) * 0.32;\n  }\n  if (aime > bendPointHigh) {\n    pia += (aime - bendPointHigh) * 0.15;\n  }\n  if (this.cpiAdjustedParams[\'pia\']) {\n    pia = this.cpiAdjustedParams[\'pia\'];\n  } else {\n    this.cpiAdjustedParams[\'pia\'] = pia;\n  }\n  context.balances.addCash(pia * 12, null, \'Income\', \'Social Security\');\n}\n','hidden','','',NULL,0,'',NULL,1),(10,'Solar Panels',1,'context.balances.spendCash(-1 * this.params[\'size\']*1.4*0.152,\'Living\',\'Solar Rebate\')','2013-07-13 06:15:08','2013-11-24 20:35:29','context.balances.spendCash(-1 * this.params[\'size\'] * 1.4 * 0.152, \'Living\', \'Solar Rebate\');\n','goal','http://www.grinningplanet.com/2004/05-04/solar-energy-graphic-copyright1.gif','this.tempParams.cost = this.params[\'size\']*5.0\r\n\r\nreturn balances.hasSavings(cost)','this.tempParams.cost = this.params[\'size\'] * 5.0;\n\nreturn balances.hasSavings(cost);\n',0,'context.balances.spendCash(this.tempParams.cost, \'Capital\', \'Solar System\')\r\n','context.balances.spendCash(this.tempParams.cost, \'Capital\', \'Solar System\');\n',7),(11,'Car',1,'@tempParams[\'car_age\'] ||= this.params[\'car_age\']                                       \r\n@cpiAdjustedParams[\'price\'] ||= this.params[\'price\']\r\n@cpiAdjustedParams[\'gasoline_per_gallon\'] ||= 4.0\r\n@cpiAdjustedParams[\'insurance\'] ||= this.params[\'insurance\']\r\n\r\n@tempParams[\'car_age\'] += 1\r\n\r\nif @tempParams[\'car_age\'] == 12\r\n  context.balances.spendCash(@cpiAdjustedParams[\'price\'],\'Capital\',\'Car\')\r\n\r\ncontext.balances.spendCash(15000/this.params[\'mpg\']*@cpiAdjustedParams[\'gasoline_per_gallon\'], \'Living\', \'Gasoline\')\r\ncontext.balances.spendCash(@cpiAdjustedParams[\'insurance\'], \'Living\', \'Car Insurance\')\r\ncontext.balances.spendCash(@cpiAdjustedParams[\'price\']*0.02, \'Living\', \'Car Maintenance\')','2013-07-13 06:49:37','2013-11-30 02:45:04','var _base, _base1, _base2, _base3;\n\n(_base = this.tempParams)[\'car_age\'] || (_base[\'car_age\'] = this.params[\'car_age\']);\n\n(_base1 = this.cpiAdjustedParams)[\'price\'] || (_base1[\'price\'] = this.params[\'price\']);\n\n(_base2 = this.cpiAdjustedParams)[\'gasoline_per_gallon\'] || (_base2[\'gasoline_per_gallon\'] = 4.0);\n\n(_base3 = this.cpiAdjustedParams)[\'insurance\'] || (_base3[\'insurance\'] = this.params[\'insurance\']);\n\nthis.tempParams[\'car_age\'] += 1;\n\nif (this.tempParams[\'car_age\'] === 12) {\n  context.balances.spendCash(this.cpiAdjustedParams[\'price\'], \'Capital\', \'Car\');\n}\n\ncontext.balances.spendCash(15000 / this.params[\'mpg\'] * this.cpiAdjustedParams[\'gasoline_per_gallon\'], \'Living\', \'Gasoline\');\n\ncontext.balances.spendCash(this.cpiAdjustedParams[\'insurance\'], \'Living\', \'Car Insurance\');\n\ncontext.balances.spendCash(this.cpiAdjustedParams[\'price\'] * 0.02, \'Living\', \'Car Maintenance\');\n','factor','','',NULL,1,'',NULL,6),(12,'Retire',1,'','2013-07-26 06:31:02','2013-11-30 02:20:50','\n','goal','http://www.clipartguide.com/_named_clipart_images/0511-1001-2706-2216_Retired_Man_Resting_in_a_Hammock_with_a_Book_clipart_image.jpg','@cpiAdjustedParams[\'yearly_budget\'] = this.params[\'yearly_budget\'] if !@cpiAdjustedParams[\'yearly_budget\']\r\n\r\nyearsLeft = context.family.endYear() - context.simYear\r\n\r\nsavingsNeeded = @cpiAdjustedParams[\'yearly_budget\']*yearsLeft\r\n\r\nthis.setGoalProgress(context.simYear, context.balances.getRetirement(), savingsNeeded)\r\n\r\nif !context.balances.hasRetirement(savingsNeeded)  \r\n  this.setGoalFailureMessage(\"Not Enough Savings by year #{context.simYear} (Need $#{savingsNeeded}, Have $#{context.balances.getRetirement()})\")\r\n  return false\r\n\r\nreturn true','var savingsNeeded, yearsLeft;\n\nif (!this.cpiAdjustedParams[\'yearly_budget\']) {\n  this.cpiAdjustedParams[\'yearly_budget\'] = this.params[\'yearly_budget\'];\n}\n\nyearsLeft = context.family.endYear() - context.simYear;\n\nsavingsNeeded = this.cpiAdjustedParams[\'yearly_budget\'] * yearsLeft;\n\nthis.setGoalProgress(context.simYear, context.balances.getRetirement(), savingsNeeded);\n\nif (!context.balances.hasRetirement(savingsNeeded)) {\n  this.setGoalFailureMessage(\"Not Enough Savings by year \" + context.simYear + \" (Need $\" + savingsNeeded + \", Have $\" + (context.balances.getRetirement()) + \")\");\n  return false;\n}\n\nreturn true;\n',0,'this.disable(\'Salary\')','this.disable(\'Salary\');\n',7),(13,'Rent',1,'@cpiAdjustedParams[\'rent\'] ||= this.params[\'rent\']\r\ncontext.balances.spendCash(@cpiAdjustedParams[\'rent\']*12, \'Living\', \'Rent\')','2013-07-27 07:03:36','2013-12-01 08:43:55','var _base;\n\n(_base = this.cpiAdjustedParams)[\'rent\'] || (_base[\'rent\'] = this.params[\'rent\']);\n\ncontext.balances.spendCash(this.cpiAdjustedParams[\'rent\'] * 12, \'Living\', \'Rent\');\n','factor','','',NULL,0,'',NULL,6),(14,'Emergency Fund',1,'yearSpend = context.balances.year_spends_notax[context.simYear]\r\ngoalAmount = this.params[\'months\'] * yearSpend/12\r\n\r\nemergencyAccount = context.balances.getAccount(\'emergency\')\r\n\r\nif emergencyAccount.balance < goalAmount\r\n  savings = context.balances.getAccount(\'savings\')\r\n  needed = goalAmount - context.balances.getAccount(\'emergency\').balance\r\n  \r\n  emergencyAccount.transferUpTo(savings, needed)  \r\nelse if emergencyAccount.balance > goalAmount\r\n  extra = emergencyAccount.balance - goalAmount\r\n  context.balances.getAccount(\'savings\').transfer(emergencyAccount, extra)\r\n\r\n\r\nthis.setGoalProgress(context.simYear, emergencyAccount.balance, goalAmount)\r\n','2013-08-19 06:18:19','2013-11-24 20:36:04','var emergencyAccount, extra, goalAmount, needed, savings, yearSpend;\n\nyearSpend = context.balances.year_spends_notax[context.simYear];\n\ngoalAmount = this.params[\'months\'] * yearSpend / 12;\n\nemergencyAccount = context.balances.getAccount(\'emergency\');\n\nif (emergencyAccount.balance < goalAmount) {\n  savings = context.balances.getAccount(\'savings\');\n  needed = goalAmount - context.balances.getAccount(\'emergency\').balance;\n  emergencyAccount.transferUpTo(savings, needed);\n} else if (emergencyAccount.balance > goalAmount) {\n  extra = emergencyAccount.balance - goalAmount;\n  context.balances.getAccount(\'savings\').transfer(emergencyAccount, extra);\n}\n\nthis.setGoalProgress(context.simYear, emergencyAccount.balance, goalAmount);\n','goal','http://static8.depositphotos.com/1308254/861/v/950/depositphotos_8613621-Piggy-Bank.jpg','yearSpend = context.balances.year_spends_notax[context.simYear]\r\ngoalAmount = this.params[\'months\'] * yearSpend/12\r\n\r\nemergencyAccount = context.balances.getAccount(\'emergency\')\r\n\r\nthis.setGoalProgress(context.simYear, emergencyAccount.balance, goalAmount)\r\n\r\nif emergencyAccount.balance < goalAmount\r\n  savings = context.balances.getAccount(\'savings\')\r\n  needed = goalAmount - context.balances.getAccount(\'emergency\').balance\r\n  \r\n  emergencyAccount.transferUpTo(savings, needed)\r\n  return (emergencyAccount.balance >= goalAmount)\r\nelse\r\n  return true\r\n','var emergencyAccount, goalAmount, needed, savings, yearSpend;\n\nyearSpend = context.balances.year_spends_notax[context.simYear];\n\ngoalAmount = this.params[\'months\'] * yearSpend / 12;\n\nemergencyAccount = context.balances.getAccount(\'emergency\');\n\nthis.setGoalProgress(context.simYear, emergencyAccount.balance, goalAmount);\n\nif (emergencyAccount.balance < goalAmount) {\n  savings = context.balances.getAccount(\'savings\');\n  needed = goalAmount - context.balances.getAccount(\'emergency\').balance;\n  emergencyAccount.transferUpTo(savings, needed);\n  return emergencyAccount.balance >= goalAmount;\n} else {\n  return true;\n}\n',0,'',NULL,7),(15,'Vacation',1,'','2013-09-02 07:23:52','2013-12-01 07:33:33','\n','goal','http://4.bp.blogspot.com/_35L759gCLTI/THNDO52TE7I/AAAAAAAACME/NZ09stCqVoI/s320/familyVacationStackedCarClipArt.jpg','@cpiAdjustedParams[\'cost\'] ||= this.params[\'cost\']\r\n\r\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), @cpiAdjustedParams[\'cost\'])\r\n\r\nreturn context.balances.hasSavings(@cpiAdjustedParams[\'cost\'])  \r\n  ','var _base;\n\n(_base = this.cpiAdjustedParams)[\'cost\'] || (_base[\'cost\'] = this.params[\'cost\']);\n\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), this.cpiAdjustedParams[\'cost\']);\n\nreturn context.balances.hasSavings(this.cpiAdjustedParams[\'cost\']);\n',0,'context.balances.spendCash(@cpiAdjustedParams[\'cost\'], \'Capital\', \'Vacation\')\r\n\r\n@setGoalNeedAnother() if this.params[\'frequency\'] != \'once\'','context.balances.spendCash(this.cpiAdjustedParams[\'cost\'], \'Capital\', \'Vacation\');\n\nif (this.params[\'frequency\'] !== \'once\') {\n  this.setGoalNeedAnother();\n}\n',7),(16,'College',1,'\r\nif this.tempParams[\'years_left\'] > 0\r\n  context.balances.spendCash(@cpiAdjustedParams[\'yearly_cost\'], \'Education\', \'College Tuition\')\r\n  this.tempParams[\'years_left\']--','2013-09-02 07:45:27','2013-12-01 08:49:04','if (this.tempParams[\'years_left\'] > 0) {\n  context.balances.spendCash(this.cpiAdjustedParams[\'yearly_cost\'], \'Education\', \'College Tuition\');\n  this.tempParams[\'years_left\']--;\n}\n','goal','http://bestclipartblog.com/clipart-pics/college-clip-art-10.jpg','if !@cpiAdjustedParams[\'total_cost\']\r\n  if this.params[\'college_type\'] == \'public\'\r\n    yearly_cost = 12000\r\n    num_years = 4\r\n  else if this.params[\'college_type\'] == \'private\'\r\n    yearly_cost = 25000\r\n    num_years = 4\r\n  else if this.params[\'college_type\'] == \'community\'\r\n    yearly_cost = 25000\r\n    num_years = 2\r\n  else\r\n    alert(\'Unknown college type: \'+this.params[\'college_type\'])\r\n\r\n  @cpiAdjustedParams[\'yearly_cost\'] = yearly_cost\r\n  @cpiAdjustedParams[\'total_cost\'] = yearly_cost * num_years\r\n  this.tempParams[\'years_left\'] = num_years\r\n  \r\ncollegeCost = @cpiAdjustedParams[\'total_cost\']\r\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), collegeCost)\r\n  \r\nreturn context.balances.hasSavings(collegeCost) \r\n  ','var collegeCost, num_years, yearly_cost;\n\nif (!this.cpiAdjustedParams[\'total_cost\']) {\n  if (this.params[\'college_type\'] === \'public\') {\n    yearly_cost = 12000;\n    num_years = 4;\n  } else if (this.params[\'college_type\'] === \'private\') {\n    yearly_cost = 25000;\n    num_years = 4;\n  } else if (this.params[\'college_type\'] === \'community\') {\n    yearly_cost = 25000;\n    num_years = 2;\n  } else {\n    alert(\'Unknown college type: \' + this.params[\'college_type\']);\n  }\n  this.cpiAdjustedParams[\'yearly_cost\'] = yearly_cost;\n  this.cpiAdjustedParams[\'total_cost\'] = yearly_cost * num_years;\n  this.tempParams[\'years_left\'] = num_years;\n}\n\ncollegeCost = this.cpiAdjustedParams[\'total_cost\'];\n\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), collegeCost);\n\nreturn context.balances.hasSavings(collegeCost);\n',0,'\r\n','this.tempParams[\'years_left\'] = 4;\n',7),(17,'Wedding',1,'','2013-09-08 07:16:31','2013-11-30 03:49:28','\n','goal','http://steadyflowblog.com/wp-content/uploads/2013/07/marriage-2.jpg','cost = this.params[\'cost\']\r\n\r\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), cost)\r\n\r\nreturn context.balances.hasSavings(cost)  \r\n','var cost;\n\ncost = this.params[\'cost\'];\n\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), cost);\n\nreturn context.balances.hasSavings(cost);\n',0,'context.balances.spendCash(this.params[\'cost\'], \'Living\', \'Wedding\')  ','context.balances.spendCash(this.params[\'cost\'], \'Living\', \'Wedding\');\n',7),(18,'Entertainment',1,'context.balances.spendCash(this.params[\'gym\']*12, \'Living\', \'Entertainment\') if this.params[\'gym\']','2013-11-17 03:47:52','2013-11-30 03:06:32','if (this.params[\'gym\']) {\n  context.balances.spendCash(this.params[\'gym\'] * 12, \'Living\', \'Entertainment\');\n}\n','factor','','',NULL,0,'',NULL,7),(19,'Healthcare',1,'@cpiAdjustedParams[\'insurance\'] ||= this.params[\'insurance\']\r\ncontext.balances.spendCash(@cpiAdjustedParams[\'insurance\']*12, \'Living\', \'Utilities\') if this.params[\'insurance\']','2013-11-17 03:49:47','2013-12-01 08:44:25','var _base;\n\n(_base = this.cpiAdjustedParams)[\'insurance\'] || (_base[\'insurance\'] = this.params[\'insurance\']);\n\nif (this.params[\'insurance\']) {\n  context.balances.spendCash(this.cpiAdjustedParams[\'insurance\'] * 12, \'Living\', \'Utilities\');\n}\n','factor','','',NULL,0,'',NULL,6),(20,'Federal Income Tax',1,'agi = context.balances.getCurrentYearIncome()\r\n\r\n#Deductions\r\ndeductions = 0\r\n\r\n#standard deduction\r\ndeductions += context.family.numAdults() * 5950\r\n\r\n#exemptions\r\ndeductions += context.family.numMembersOfYear(context.simYear) * 3800\r\n\r\n#deductions\r\ndeductions += context.balances.getCurrentYearDeductions()\r\n\r\n\r\nmagi = agi - deductions\r\n\r\n#Income tax\r\nif context.family.numAdults() == 2\r\n	rateTable = [[17850, 0.10], [72500, 0.15], [146000, 0.25], [223050, 0.28], [398350, 0.33], [400000, 0.35], [99999999,0.396]]\r\nelse\r\n	rateTable = [[8925, 0.10], [36250, 0.15], [87850, 0.25], [183250, 0.28], [398350, 0.33], [450000, 0.35], [99999999,0.396]]\r\n\r\nitax = 0\r\nlastHigh = 0\r\nfor line in rateTable  \r\n	if magi > lastHigh\r\n    	amount = Math.min(magi, line[0]) - lastHigh\r\n    	itax += line[1]*amount\r\n  \r\n	lastHigh = line[0]\r\n\r\ncontext.balances.spendCash(itax, \'Taxes\', \'Federal Income Tax\')','2013-11-24 20:26:55','2013-11-30 02:13:36','var agi, amount, deductions, itax, lastHigh, line, magi, rateTable, _i, _len;\n\nagi = context.balances.getCurrentYearIncome();\n\ndeductions = 0;\n\ndeductions += context.family.numAdults() * 5950;\n\ndeductions += context.family.numMembersOfYear(context.simYear) * 3800;\n\ndeductions += context.balances.getCurrentYearDeductions();\n\nmagi = agi - deductions;\n\nif (context.family.numAdults() === 2) {\n  rateTable = [[17850, 0.10], [72500, 0.15], [146000, 0.25], [223050, 0.28], [398350, 0.33], [400000, 0.35], [99999999, 0.396]];\n} else {\n  rateTable = [[8925, 0.10], [36250, 0.15], [87850, 0.25], [183250, 0.28], [398350, 0.33], [450000, 0.35], [99999999, 0.396]];\n}\n\nitax = 0;\n\nlastHigh = 0;\n\nfor (_i = 0, _len = rateTable.length; _i < _len; _i++) {\n  line = rateTable[_i];\n  if (magi > lastHigh) {\n    amount = Math.min(magi, line[0]) - lastHigh;\n    itax += line[1] * amount;\n  }\n  lastHigh = line[0];\n}\n\ncontext.balances.spendCash(itax, \'Taxes\', \'Federal Income Tax\');\n','hidden','','',NULL,0,'',NULL,5),(21,'Donate',1,'','2013-11-24 20:28:18','2013-12-01 07:35:29','\n','goal','http://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Green_ribbon.svg/370px-Green_ribbon.svg.png','agi = context.balances.getCurrentYearIncome();\r\nthis.tempParams[\'amount\'] = this.params[\'percent_of_income\']/100*agi\r\n\r\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), this.tempParams[\'amount\'])\r\n\r\nreturn context.balances.hasSavings(this.tempParams[\'amount\'])  ','var agi;\n\nagi = context.balances.getCurrentYearIncome();\n\nthis.tempParams[\'amount\'] = this.params[\'percent_of_income\'] / 100 * agi;\n\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), this.tempParams[\'amount\']);\n\nreturn context.balances.hasSavings(this.tempParams[\'amount\']);\n',0,'context.balances.spendCash(this.tempParams[\'amount\'], \'Capital\', \'Donations\', {deductable: true})\r\n\r\n@setGoalNeedAnother()','context.balances.spendCash(this.tempParams[\'amount\'], \'Capital\', \'Donations\', {\n  deductable: true\n});\n\nthis.setGoalNeedAnother();\n',3),(22,'Other',1,'@cpiAdjustedParams[\'other\'] ||= this.params[\'other\']\r\n\r\ncontext.balances.spendCash(@cpiAdjustedParams[\'other\']*12, \'Living\', \'Other\')','2013-12-01 08:40:50','2013-12-01 08:43:13','var _base;\n\n(_base = this.cpiAdjustedParams)[\'other\'] || (_base[\'other\'] = this.params[\'other\']);\n\ncontext.balances.spendCash(this.cpiAdjustedParams[\'other\'] * 12, \'Living\', \'Other\');\n','factor','','',NULL,0,'',NULL,6),(23,'Travel the World',1,'if this.tempParams[\'months_left\'] <= 0\r\n  this.enable(\'Salary\')\r\n  @setDisabled()\r\n\r\n\r\nthis.tempParams[\'months_left\'] -= 12','2013-12-16 02:55:53','2013-12-16 03:17:47','if (this.tempParams[\'months_left\'] <= 0) {\n  this.enable(\'Salary\');\n  this.setDisabled();\n}\n\nthis.tempParams[\'months_left\'] -= 12;\n','goal','http://us.123rf.com/400wm/400/400/carbouval/carbouval0802/carbouval080200016/2564398-travel-around-the-world.jpg','if !@cpiAdjustedParams[\'personCost\']\r\n  travelType = this.params[\'travel_type\']  \r\n  if travelType == \'luxury\'\r\n    dayPersonCost = 200\r\n  else if travelType == \'suitcase\'\r\n    dayPersonCost = 100\r\n  else if travelType == \'backpacker\'\r\n    dayPersonCost = 50\r\n  @cpiAdjustedParams[\'personCost\'] = dayPersonCost * this.params[\'months\']*30\r\n  \r\n      \r\ncost = @cpiAdjustedParams[\'personCost\'] * context.familySize(true)\r\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), cost)\r\n  \r\nreturn context.balances.hasSavings(cost) \r\n  ','var cost, dayPersonCost, travelType;\n\nif (!this.cpiAdjustedParams[\'personCost\']) {\n  travelType = this.params[\'travel_type\'];\n  if (travelType === \'luxury\') {\n    dayPersonCost = 200;\n  } else if (travelType === \'suitcase\') {\n    dayPersonCost = 100;\n  } else if (travelType === \'backpacker\') {\n    dayPersonCost = 50;\n  }\n  this.cpiAdjustedParams[\'personCost\'] = dayPersonCost * this.params[\'months\'] * 30;\n}\n\ncost = this.cpiAdjustedParams[\'personCost\'] * context.familySize(true);\n\nthis.setGoalProgress(context.simYear, context.balances.getSavings(), cost);\n\nreturn context.balances.hasSavings(cost);\n',0,'this.tempParams[\'months_left\'] = this.params[\'months\']\r\nthis.disable(\'Salary\')','this.tempParams[\'months_left\'] = this.params[\'months\'];\n\nthis.disable(\'Salary\');\n',0);
/*!40000 ALTER TABLE `manipulator_templates` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `manipulators`
--

DROP TABLE IF EXISTS `manipulators`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `manipulators` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `start` date DEFAULT NULL,
  `end` date DEFAULT NULL,
  `manipulator_template_id` int(11) NOT NULL,
  `plan_id` int(11) DEFAULT NULL,
  `params` varchar(4096) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `when` int(11) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `start_type` varchar(255) DEFAULT NULL,
  `start_user_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=48 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `manipulators`
--

LOCK TABLES `manipulators` WRITE;
/*!40000 ALTER TABLE `manipulators` DISABLE KEYS */;
INSERT INTO `manipulators` VALUES (4,'Taxes',NULL,NULL,4,1,'{}','2013-07-07 05:20:54','2013-11-24 23:33:35',NULL,1,NULL,NULL),(5,'Utilities',NULL,NULL,5,1,'{\"electric\":\"$25\",\"cable\":\"$10\",\"phone\":\"$130\",\"internet\":\"$70\"}','2013-07-07 05:36:42','2013-11-30 03:07:01',NULL,NULL,NULL,NULL),(8,'State Tax',NULL,NULL,8,1,'{}','2013-07-07 06:35:06','2013-11-17 00:18:45',NULL,NULL,NULL,NULL),(10,'Social Security',NULL,NULL,9,1,'{}','2013-07-07 19:42:17','2013-11-17 00:18:45',NULL,NULL,NULL,NULL),(13,'Car',NULL,NULL,11,1,'{\"price\":\"$20,000\",\"mpg\":\"31\",\"car_age\":\"3\",\"insurance\":\"$600\"}','2013-07-15 07:12:55','2013-11-30 02:50:44',NULL,NULL,NULL,NULL),(14,'Retire',NULL,NULL,12,1,'{\"yearly_budget\":\"75000\"}','2013-07-26 06:32:00','2013-12-16 06:22:22',48,NULL,'asap',1),(15,'Rent','1978-01-01','1978-01-01',13,1,'{\"rent\":\"$2,450\"}','2013-07-27 07:03:54','2013-11-17 03:41:34',NULL,NULL,NULL,NULL),(27,'Salary',NULL,NULL,1,1,'{\"salary\":\"25000\",\"401k\":\"5\",\"annual_raise\":\"3\"}','2013-08-18 04:02:00','2013-12-15 06:21:46',NULL,2,NULL,NULL),(28,'Salary',NULL,NULL,1,1,'{\"salary\":\"130000\",\"401k\":\"8\",\"annual_raise\":\"3\"}','2013-08-18 04:02:43','2013-12-16 06:20:58',NULL,1,NULL,NULL),(30,'Emergency Fund',NULL,NULL,14,1,'{\"months\":\"6\"}','2013-08-19 06:55:11','2013-12-15 07:10:20',NULL,NULL,'asap',NULL),(33,'College','2035-01-15','2035-01-15',16,1,'{\"college_type\":\"private\"}','2013-09-02 07:53:18','2013-12-16 06:20:25',NULL,NULL,'age',24),(35,'Vacation',NULL,NULL,15,1,'{\"cost\":\"5000\",\"frequency\":\"every 2 years\"}','2013-09-08 08:05:47','2013-12-15 07:10:39',NULL,NULL,'asap',NULL),(36,'Food','1978-01-01','1978-01-01',6,1,'{\"groceries\":\"$250\",\"restaurants\":\"$250\"}','2013-09-09 05:19:31','2013-11-17 03:57:58',NULL,NULL,NULL,NULL),(38,'House','2020-01-01','2020-01-01',7,1,'{\"property_tax_rate\":\"1.4\",\"maintenance\":\"0.5\",\"home_insurance\":\"70\",\"price\":\"850000\",\"percent_down\":\"20\"}','2013-10-16 07:41:37','2013-12-15 06:20:56',NULL,NULL,'year',NULL),(39,'Entertainment',NULL,NULL,18,1,'{\"gym\":\"$69\"}','2013-11-17 03:51:05','2013-11-17 03:51:05',NULL,NULL,NULL,NULL),(40,'Fed Taxes',NULL,NULL,20,1,'{}','2013-11-24 21:00:13','2013-11-24 21:00:13',NULL,NULL,NULL,NULL),(41,'April FICA',NULL,NULL,4,1,'{}','2013-11-24 23:34:37','2013-11-24 23:34:37',NULL,2,NULL,NULL),(42,'Donate',NULL,NULL,21,1,'{\"percent_of_income\":\"3\"}','2013-11-25 04:52:01','2013-11-30 08:20:12',NULL,NULL,'asap',NULL),(45,'Healthcare',NULL,NULL,19,1,'{\"insurance\":\"$0\"}','2013-11-30 06:13:25','2013-12-02 08:01:04',NULL,NULL,NULL,NULL),(46,'Other',NULL,NULL,22,1,'{\"other\":\"500\"}','2013-12-01 09:51:57','2013-12-01 09:51:57',NULL,NULL,NULL,NULL),(47,'Travel the World','2015-01-01','2015-01-01',23,1,'{\"travel_type\":\"suitcase\",\"months\":\"6\"}','2013-12-16 03:13:30','2013-12-16 03:16:39',NULL,NULL,'year',NULL);
/*!40000 ALTER TABLE `manipulators` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `plan_users`
--

DROP TABLE IF EXISTS `plan_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `plan_users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `plan_id` int(11) NOT NULL,
  `relation_name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=25 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `plan_users`
--

LOCK TABLES `plan_users` WRITE;
/*!40000 ALTER TABLE `plan_users` DISABLE KEYS */;
INSERT INTO `plan_users` VALUES (17,17,1,NULL),(20,1,1,NULL),(21,2,1,NULL),(24,24,1,NULL);
/*!40000 ALTER TABLE `plan_users` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `plans`
--

DROP TABLE IF EXISTS `plans`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `plans` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `plans`
--

LOCK TABLES `plans` WRITE;
/*!40000 ALTER TABLE `plans` DISABLE KEYS */;
INSERT INTO `plans` VALUES (1,'Life',1,'2013-06-29 05:20:29','2013-06-29 05:20:29');
/*!40000 ALTER TABLE `plans` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `professions`
--

DROP TABLE IF EXISTS `professions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `professions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `professions`
--

LOCK TABLES `professions` WRITE;
/*!40000 ALTER TABLE `professions` DISABLE KEYS */;
INSERT INTO `professions` VALUES (1,'Software Engineer'),(2,'Chef'),(3,'Acrobat'),(4,'Teacher');
/*!40000 ALTER TABLE `professions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `schema_migrations`
--

DROP TABLE IF EXISTS `schema_migrations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `schema_migrations` (
  `version` varchar(255) NOT NULL,
  UNIQUE KEY `unique_schema_migrations` (`version`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `schema_migrations`
--

LOCK TABLES `schema_migrations` WRITE;
/*!40000 ALTER TABLE `schema_migrations` DISABLE KEYS */;
INSERT INTO `schema_migrations` VALUES ('20130624010747'),('20130630225721'),('20130701021436'),('20130708043353'),('20130726062615'),('20130726071034'),('20130727053218'),('20130727053715'),('20130727055214'),('20130811124333'),('20130811202315'),('20130811203625'),('20130811204124'),('20130818025112'),('20130818042732'),('20130819073416'),('20130831073605'),('20130909043658'),('20131110050545'),('20131117002850'),('20131124202111'),('20131125033655'),('20131130005920'),('20131130064951');
/*!40000 ALTER TABLE `schema_migrations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tax_brackets`
--

DROP TABLE IF EXISTS `tax_brackets`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tax_brackets` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `tax_rate_schedule_id` int(11) NOT NULL,
  `range_top` int(11) NOT NULL,
  `rate` decimal(5,2) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=30 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tax_brackets`
--

LOCK TABLES `tax_brackets` WRITE;
/*!40000 ALTER TABLE `tax_brackets` DISABLE KEYS */;
INSERT INTO `tax_brackets` VALUES (1,1,7582,1.00),(3,1,254250,9.30),(4,1,17976,2.00),(5,1,28371,4.00),(6,1,39384,6.00),(7,1,49774,8.00),(8,1,305100,10.30),(9,1,508500,11.30),(10,1,1000000000,12.30),(11,2,15164,1.00),(12,2,35952,2.00),(13,2,56742,4.00),(14,2,78768,6.00),(15,2,99548,8.00),(16,2,508500,9.30),(17,2,610200,10.30),(18,2,1017000,11.30),(19,2,1000000000,12.30),(20,3,3100,5.00),(21,3,7750,7.00),(22,3,125000,9.00),(23,3,250000,10.80),(24,3,1000000000,11.00),(25,4,6200,5.00),(26,4,15500,7.00),(27,4,250000,9.00),(28,4,500000,10.80),(29,4,1000000000,11.00);
/*!40000 ALTER TABLE `tax_brackets` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tax_rate_schedules`
--

DROP TABLE IF EXISTS `tax_rate_schedules`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tax_rate_schedules` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tax_rate_schedules`
--

LOCK TABLES `tax_rate_schedules` WRITE;
/*!40000 ALTER TABLE `tax_rate_schedules` DISABLE KEYS */;
INSERT INTO `tax_rate_schedules` VALUES (1,'State Income Tax - California - Single'),(2,'State Income Tax - California - Married'),(3,'State Income Tax - Oregon - Single'),(4,'State Income Tax - Oregon - Married');
/*!40000 ALTER TABLE `tax_rate_schedules` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `users`
--

DROP TABLE IF EXISTS `users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `born` date DEFAULT NULL,
  `profession_id` int(11) DEFAULT NULL,
  `gender` varchar(1) NOT NULL,
  `species` varchar(255) NOT NULL DEFAULT 'human',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=25 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
INSERT INTO `users` VALUES (1,'Tim','2013-06-29 05:20:29','2013-11-17 01:33:41','1978-01-01',1,'M','human'),(2,'April','2013-08-18 02:27:22','2013-12-15 06:19:25','1977-01-01',2,'F','human'),(3,'Bobby','2013-08-18 03:02:29','2013-08-18 03:02:29','2009-01-01',NULL,'M','human'),(4,'Child','2013-08-18 03:05:01','2013-08-18 03:05:01','2010-01-01',NULL,'F','human'),(5,'Child','2013-08-18 03:15:06','2013-08-18 03:15:06','2010-01-01',NULL,'U','human'),(6,'Child','2013-08-18 03:15:49','2013-08-18 03:15:49','2010-01-01',NULL,'U','human'),(7,'Child','2013-08-18 03:16:05','2013-08-18 03:16:05','2010-01-01',NULL,'U','human'),(8,'Child','2013-08-18 03:16:17','2013-08-18 03:16:17','2010-01-01',NULL,'U','human'),(9,'Child','2013-08-18 03:22:45','2013-08-18 03:22:45','2010-01-01',NULL,'U','human'),(10,'Child','2013-08-18 03:25:29','2013-08-18 03:25:29','2010-01-01',NULL,'U','human'),(11,'Child','2013-08-18 03:25:56','2013-08-18 03:25:56','2010-01-01',NULL,'U','human'),(12,'Child','2013-08-18 03:26:48','2013-08-18 03:26:48','2010-01-01',NULL,'U','human'),(13,'Child','2013-08-18 03:27:01','2013-08-18 03:27:01','2010-01-01',NULL,'U','human'),(14,'Future Child','2013-08-18 03:42:41','2013-08-18 03:42:41','2015-01-01',NULL,'','human'),(15,'KimChi Jr','2013-08-18 03:42:56','2013-08-18 03:42:56','2016-01-01',NULL,'','human'),(16,'KimChi Jr.','2013-11-17 01:24:12','2013-11-30 02:34:02','2016-01-01',NULL,'','human'),(17,'Sasha','2013-11-30 06:46:30','2013-11-30 07:00:34','2005-01-01',NULL,'P','cat'),(20,'Tim','2013-12-01 08:03:59','2013-12-01 08:03:59',NULL,NULL,'M','human'),(21,'April','2013-12-01 08:06:13','2013-12-01 08:06:13',NULL,NULL,'F','human'),(24,'KimChi Jr','2013-12-01 08:11:39','2013-12-02 08:26:58','2017-01-01',NULL,'','human');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `variable_properties`
--

DROP TABLE IF EXISTS `variable_properties`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `variable_properties` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `manipulator_template_id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `var_type` varchar(255) NOT NULL,
  `default` varchar(255) NOT NULL DEFAULT '',
  `options` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=34 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `variable_properties`
--

LOCK TABLES `variable_properties` WRITE;
/*!40000 ALTER TABLE `variable_properties` DISABLE KEYS */;
INSERT INTO `variable_properties` VALUES (1,6,'groceries','money','250',NULL),(2,6,'restaurants','money','200',NULL),(3,14,'months','number','6',NULL),(4,1,'salary','money','',NULL),(5,1,'401k','percentage','',NULL),(6,7,'price','money','200000',NULL),(8,7,'maintenance','percentage','0.5',NULL),(9,10,'size','string','',NULL),(10,15,'cost','money','',''),(11,16,'college_type','select','','public,private,community'),(12,13,'rent','money','',''),(13,1,'annual_raise','percentage','3',''),(14,5,'electric','money','',''),(15,5,'cable','money','',''),(16,5,'phone','money','',''),(17,5,'internet','money','',''),(18,18,'gym','money','',''),(19,19,'insurance','money','',''),(20,11,'price','money','20000',''),(21,11,'mpg','number','30',''),(22,7,'property_tax_rate','percentage','1',''),(23,21,'percent_of_income','percentage','5',''),(24,12,'yearly_budget','money','40000',''),(25,15,'frequency','select','','once,every year,every 2 years,every 3 years,every  5 years'),(26,11,'car_age','number','5',''),(27,11,'insurance','money','600',''),(28,17,'cost','money','20000',''),(29,7,'home_insurance','money','75',''),(30,7,'percent_down','percentage','20',''),(31,22,'other','string','',NULL),(32,23,'travel_type','select','','suitcase,backpacker,luxury'),(33,23,'months','number','12','');
/*!40000 ALTER TABLE `variable_properties` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2013-12-26 15:38:18
